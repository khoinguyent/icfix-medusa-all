import{D as j}from"./chunk-D4T3GFML-k03o88f9.js";import{K as f}from"./chunk-6HTZNHPT-DLRIMXAt.js";import{b as r,u as p}from"./chunk-4TC5YS65-h6xMujeu.js";import{af as y,ah as b,b as u,a0 as E,bb as v,j as e,H as F,am as g,an as S,dk as w,t as m,y as i,z as O,B as c}from"./index-DfnPleOL.js";var z=y({email:b().email()});function C({order:t}){const{t:s}=u(),{handleSuccess:l}=p(),a=g({defaultValues:{email:t.email||""},resolver:S(z)}),{mutateAsync:n,isPending:d}=w(t.id),x=a.handleSubmit(async o=>{try{await n({email:o.email}),m.success(s("orders.edit.email.requestSuccess",{email:o.email})),l()}catch(h){m.error(h.message)}});return e.jsx(r.Form,{form:a,children:e.jsxs(f,{onSubmit:x,className:"flex size-full flex-col overflow-hidden",children:[e.jsx(r.Body,{className:"flex-1 overflow-auto",children:e.jsx(i.Field,{control:a.control,name:"email",render:({field:o})=>e.jsxs(i.Item,{children:[e.jsx(i.Label,{children:s("fields.email")}),e.jsx(i.Control,{children:e.jsx(O,{type:"email",...o})}),e.jsx(i.ErrorMessage,{})]})})}),e.jsx(r.Footer,{children:e.jsxs("div",{className:"flex items-center justify-end gap-x-2",children:[e.jsx(r.Close,{asChild:!0,children:e.jsx(c,{variant:"secondary",size:"small",children:s("actions.cancel")})}),e.jsx(c,{isLoading:d,type:"submit",variant:"primary",size:"small",children:s("actions.save")})]})})]})})}var H=()=>{const{t}=u(),s=E(),{order:l,isPending:a,isError:n,error:d}=v(s.id,{fields:j});if(!a&&n)throw d;return e.jsxs(r,{children:[e.jsx(r.Header,{children:e.jsx(F,{children:t("orders.edit.email.title")})}),l&&e.jsx(C,{order:l})]})};export{H as Component};
